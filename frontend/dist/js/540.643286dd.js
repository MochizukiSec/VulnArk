"use strict";(self["webpackChunkvuln_management_frontend"]=self["webpackChunkvuln_management_frontend"]||[]).push([[540],{7540:(e,n,r)=>{r.r(n),r.d(n,{default:()=>_});r(23288);var t=r(20641),o=r(53751),a=r(90033),l={class:"login-container"},i={class:"login-form-container"},s={class:"input-with-icon"},u={class:"input-with-icon"},c={class:"login-options"},d=["disabled"],p={class:"button-text"},g={key:0,class:"el-icon-right"},m={key:1,class:"loading-spinner"},f={class:"login-footer"},k={class:"copyright"};function h(e,n,r,h,v,w){var b=(0,t.g2)("el-alert"),L=(0,t.g2)("el-input"),x=(0,t.g2)("el-form-item"),y=(0,t.g2)("el-checkbox"),F=(0,t.g2)("el-form");return(0,t.uX)(),(0,t.CE)("div",l,[n[8]||(n[8]=(0,t.Lk)("div",{class:"gradient-background"},null,-1)),(0,t.Lk)("div",i,[n[7]||(n[7]=(0,t.Lk)("div",{class:"login-header"},[(0,t.Lk)("div",{class:"logo-text"},[(0,t.Lk)("span",null,"VulnArk")]),(0,t.Lk)("h1",{class:"title"},"漏洞管理平台"),(0,t.Lk)("p",{class:"subtitle"},"安全管理 · 智能分析 · 高效防护")],-1)),(0,t.bF)(F,{ref:"loginForm",model:h.loginData,rules:h.rules,onSubmit:(0,o.D$)(h.handleLogin,["prevent"]),class:"login-form"},{default:(0,t.k6)((function(){return[h.error?((0,t.uX)(),(0,t.Wv)(b,{key:0,title:h.error,type:"error","show-icon":"",closable:!1,class:"login-alert"},null,8,["title"])):(0,t.Q3)("",!0),(0,t.bF)(x,{prop:"email",class:"custom-form-item"},{default:(0,t.k6)((function(){return[(0,t.Lk)("div",s,[n[4]||(n[4]=(0,t.Lk)("svg",{class:"input-icon email-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,t.Lk)("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),(0,t.Lk)("polyline",{points:"22,6 12,13 2,6"})],-1)),(0,t.bF)(L,{modelValue:h.loginData.email,"onUpdate:modelValue":n[0]||(n[0]=function(e){return h.loginData.email=e}),placeholder:"请输入邮箱",type:"email",class:"custom-input"},null,8,["modelValue"])])]})),_:1}),(0,t.bF)(x,{prop:"password",class:"custom-form-item"},{default:(0,t.k6)((function(){return[(0,t.Lk)("div",u,[n[5]||(n[5]=(0,t.Lk)("svg",{class:"input-icon password-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[(0,t.Lk)("rect",{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"}),(0,t.Lk)("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})],-1)),(0,t.bF)(L,{modelValue:h.loginData.password,"onUpdate:modelValue":n[1]||(n[1]=function(e){return h.loginData.password=e}),placeholder:"请输入密码",type:"password","show-password":"",class:"custom-input"},null,8,["modelValue"])])]})),_:1}),(0,t.Lk)("div",c,[(0,t.bF)(y,{modelValue:h.rememberMe,"onUpdate:modelValue":n[2]||(n[2]=function(e){return h.rememberMe=e})},{default:(0,t.k6)((function(){return n[6]||(n[6]=[(0,t.eW)("记住我")])})),_:1},8,["modelValue"])]),(0,t.bF)(x,null,{default:(0,t.k6)((function(){return[(0,t.Lk)("button",{type:"button",class:(0,a.C4)(["login-button",{loading:h.loading}]),disabled:h.loading,onClick:n[3]||(n[3]=function(){return h.submitForm&&h.submitForm.apply(h,arguments)})},[(0,t.Lk)("span",p,(0,a.v_)(h.loading?"登录中...":"登录"),1),h.loading?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("i",g)),h.loading?((0,t.uX)(),(0,t.CE)("span",m)):(0,t.Q3)("",!0)],10,d)]})),_:1})]})),_:1},8,["model","rules","onSubmit"]),(0,t.Lk)("div",f,[(0,t.Lk)("p",k,"© "+(0,a.v_)((new Date).getFullYear())+" 漏洞管理平台",1)])])])}var v=r(14048),w=r(30388),b=(r(44114),r(50953)),L=r(66278),x=r(75220);const y={name:"Login",setup:function(){var e=(0,L.Pj)(),n=(0,x.rd)(),r=(0,x.lq)(),o=(0,b.KR)(null),a=(0,b.KR)(!1),l=(0,b.Kh)({email:"",password:""}),i={email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:8,message:"密码长度不能少于8个字符",trigger:"blur"}]},s=(0,t.EW)((function(){return e.getters["auth/authLoading"]})),u=(0,t.EW)((function(){return e.getters["auth/authError"]})),c=function(){var e=(0,w.A)((0,v.A)().mark((function e(){return(0,v.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(o.value){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,o.value.validate(function(){var e=(0,w.A)((0,v.A)().mark((function e(n){return(0,v.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=3;break}return e.next=3,d();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var t=(0,w.A)((0,v.A)().mark((function t(){var o,a;return(0,v.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("auth/login",l);case 2:o=t.sent,o.success&&(a=r.query.redirect||"/dashboard",n.push(a));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.sV)((function(){e.dispatch("auth/authError",null)})),{loginForm:o,loginData:l,rules:i,loading:s,error:u,rememberMe:a,submitForm:c,handleLogin:d}}};var F=r(66262);const V=(0,F.A)(y,[["render",h],["__scopeId","data-v-64d6143f"]]),_=V}}]);
//# sourceMappingURL=540.643286dd.js.map