{"ast":null,"code":"import \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/core-js/modules/es.array.iterator.js\";\nimport \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/core-js/modules/es.promise.js\";\nimport \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/core-js/modules/es.object.assign.js\";\nimport \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/core-js/modules/es.promise.finally.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport ElementPlus from 'element-plus';\nimport 'element-plus/dist/index.css';\nimport axios from 'axios';\nimport moment from 'moment';\n\n// 配置axios默认值\naxios.defaults.baseURL = process.env.VUE_APP_API_URL || 'http://localhost:8000/api';\naxios.interceptors.request.use(function (config) {\n  var token = store.state.auth.token;\n  if (token) {\n    config.headers.Authorization = \"Bearer \".concat(token);\n  }\n  return config;\n});\n\n// 添加响应拦截器处理401未授权错误\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  // 如果请求包含静默错误处理标记，则不执行重定向\n  if (error.config && error.config._silentError) {\n    console.log('静默处理错误请求');\n    return Promise.reject(error);\n  }\n\n  // 获取当前路径，只在非首页上重定向\n  var currentPath = window.location.pathname;\n  console.log('当前路径:', currentPath);\n\n  // 只有当收到真实的401响应，且不是访问首页时才执行重定向\n  if (error.response && error.response.status === 401 && currentPath !== '/') {\n    console.log('收到401响应，执行登出操作');\n    store.dispatch('auth/logout');\n    router.push('/login');\n  }\n  return Promise.reject(error);\n});\n\n// 检查并清除无效的localStorage数据\nvar userStr = localStorage.getItem('user');\nif (userStr === 'undefined' || userStr && userStr.trim() === '') {\n  console.warn('发现无效的用户数据，正在清除...');\n  localStorage.removeItem('user');\n  localStorage.removeItem('token');\n}\n\n// 创建应用实例\nvar app = createApp(App);\n\n// 注册全局实用工具\napp.config.globalProperties.$moment = moment;\napp.config.globalProperties.$axios = axios;\n\n// 注册全局过滤器\napp.config.globalProperties.$filters = {\n  formatDate: function formatDate(value) {\n    if (!value) return '';\n    return moment(value).format('YYYY-MM-DD HH:mm');\n  },\n  formatDateOnly: function formatDateOnly(value) {\n    if (!value) return '';\n    return moment(value).format('YYYY-MM-DD');\n  },\n  capitalize: function capitalize(value) {\n    if (!value) return '';\n    value = value.toString();\n    return value.charAt(0).toUpperCase() + value.slice(1);\n  },\n  severityClass: function severityClass(severity) {\n    switch (severity) {\n      case 'critical':\n        return 'danger';\n      case 'high':\n        return 'danger';\n      case 'medium':\n        return 'warning';\n      case 'low':\n        return 'primary';\n      case 'info':\n        return 'info';\n      default:\n        return 'info';\n    }\n  },\n  statusClass: function statusClass(status) {\n    switch (status) {\n      case 'open':\n        return 'danger';\n      case 'in_progress':\n        return 'warning';\n      case 'resolved':\n        return 'success';\n      case 'closed':\n        return 'info';\n      case 'false_positive':\n        return 'info';\n      default:\n        return 'info';\n    }\n  },\n  statusText: function statusText(status) {\n    switch (status) {\n      case 'open':\n        return '开放';\n      case 'in_progress':\n        return '处理中';\n      case 'resolved':\n        return '已解决';\n      case 'closed':\n        return '已关闭';\n      case 'false_positive':\n        return '误报';\n      default:\n        return status;\n    }\n  },\n  severityText: function severityText(severity) {\n    switch (severity) {\n      case 'critical':\n        return '严重';\n      case 'high':\n        return '高危';\n      case 'medium':\n        return '中危';\n      case 'low':\n        return '低危';\n      case 'info':\n        return '信息';\n      default:\n        return severity;\n    }\n  }\n};\n\n// 使用插件\napp.use(store);\napp.use(router);\napp.use(ElementPlus);\n\n// 挂载应用\napp.mount('#app');","map":{"version":3,"names":["createApp","App","router","store","ElementPlus","axios","moment","defaults","baseURL","process","env","VUE_APP_API_URL","interceptors","request","use","config","token","state","auth","headers","Authorization","concat","response","error","_silentError","console","log","Promise","reject","currentPath","window","location","pathname","status","dispatch","push","userStr","localStorage","getItem","trim","warn","removeItem","app","globalProperties","$moment","$axios","$filters","formatDate","value","format","formatDateOnly","capitalize","toString","charAt","toUpperCase","slice","severityClass","severity","statusClass","statusText","severityText","mount"],"sources":["/Users/yue/Desktop/vuln-Management/frontend/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport axios from 'axios'\nimport moment from 'moment'\n\n// 配置axios默认值\naxios.defaults.baseURL = process.env.VUE_APP_API_URL || 'http://localhost:8000/api'\naxios.interceptors.request.use(config => {\n  const token = store.state.auth.token\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`\n  }\n  return config\n})\n\n// 添加响应拦截器处理401未授权错误\naxios.interceptors.response.use(\n  response => response,\n  error => {\n    // 如果请求包含静默错误处理标记，则不执行重定向\n    if (error.config && error.config._silentError) {\n      console.log('静默处理错误请求')\n      return Promise.reject(error);\n    }\n    \n    // 获取当前路径，只在非首页上重定向\n    const currentPath = window.location.pathname;\n    console.log('当前路径:', currentPath);\n    \n    // 只有当收到真实的401响应，且不是访问首页时才执行重定向\n    if (error.response && \n        error.response.status === 401 && \n        currentPath !== '/') {\n      console.log('收到401响应，执行登出操作')\n      store.dispatch('auth/logout')\n      router.push('/login')\n    }\n    return Promise.reject(error)\n  }\n)\n\n// 检查并清除无效的localStorage数据\nconst userStr = localStorage.getItem('user');\nif (userStr === 'undefined' || (userStr && userStr.trim() === '')) {\n  console.warn('发现无效的用户数据，正在清除...');\n  localStorage.removeItem('user');\n  localStorage.removeItem('token');\n}\n\n// 创建应用实例\nconst app = createApp(App)\n\n// 注册全局实用工具\napp.config.globalProperties.$moment = moment\napp.config.globalProperties.$axios = axios\n\n// 注册全局过滤器\napp.config.globalProperties.$filters = {\n  formatDate(value) {\n    if (!value) return ''\n    return moment(value).format('YYYY-MM-DD HH:mm')\n  },\n  formatDateOnly(value) {\n    if (!value) return ''\n    return moment(value).format('YYYY-MM-DD')\n  },\n  capitalize(value) {\n    if (!value) return ''\n    value = value.toString()\n    return value.charAt(0).toUpperCase() + value.slice(1)\n  },\n  severityClass(severity) {\n    switch (severity) {\n      case 'critical': return 'danger'\n      case 'high': return 'danger'\n      case 'medium': return 'warning'\n      case 'low': return 'primary'\n      case 'info': return 'info'\n      default: return 'info'\n    }\n  },\n  statusClass(status) {\n    switch (status) {\n      case 'open': return 'danger'\n      case 'in_progress': return 'warning'\n      case 'resolved': return 'success'\n      case 'closed': return 'info'\n      case 'false_positive': return 'info'\n      default: return 'info'\n    }\n  },\n  statusText(status) {\n    switch (status) {\n      case 'open': return '开放'\n      case 'in_progress': return '处理中'\n      case 'resolved': return '已解决'\n      case 'closed': return '已关闭'\n      case 'false_positive': return '误报'\n      default: return status\n    }\n  },\n  severityText(severity) {\n    switch (severity) {\n      case 'critical': return '严重'\n      case 'high': return '高危'\n      case 'medium': return '中危'\n      case 'low': return '低危'\n      case 'info': return '信息'\n      default: return severity\n    }\n  }\n}\n\n// 使用插件\napp.use(store)\napp.use(router)\napp.use(ElementPlus)\n\n// 挂载应用\napp.mount('#app') "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}