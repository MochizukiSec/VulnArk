{"ast":null,"code":"import _objectSpread from \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.includes.js\";\nexport default {\n  name: 'AnalysisParameters',\n  props: {\n    analysisType: {\n      type: String,\n      required: true,\n      validator: function validator(value) {\n        return ['trend_prediction', 'resource_optimization', 'anomaly_detection'].includes(value);\n      }\n    }\n  },\n  data: function data() {\n    return {\n      loading: false,\n      form: {\n        // 通用参数\n        description: '',\n        // 趋势预测参数\n        timeRange: '未来30天',\n        dimensions: ['severity', 'status'],\n        dataSources: ['internal'],\n        confidenceThreshold: 70,\n        // 资源优化参数\n        optimizationGoal: 'balanced',\n        factors: ['cost', 'time'],\n        resourceTypes: ['human', 'technical'],\n        historyTimeRange: '过去90天',\n        // 异常检测参数\n        sensitivity: 5,\n        anomalyTypes: ['spike', 'pattern'],\n        scopes: ['all']\n      },\n      rules: {\n        // 趋势预测规则\n        timeRange: [{\n          required: true,\n          message: '请选择预测时间范围',\n          trigger: 'change'\n        }],\n        dimensions: [{\n          type: 'array',\n          required: true,\n          message: '请至少选择一个分析维度',\n          trigger: 'change'\n        }],\n        // 资源优化规则\n        optimizationGoal: [{\n          required: true,\n          message: '请选择优化目标',\n          trigger: 'change'\n        }],\n        // 异常检测规则\n        anomalyTypes: [{\n          type: 'array',\n          required: true,\n          message: '请至少选择一种异常类型',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm: function submitForm() {\n      var _this = this;\n      this.$refs.analysisForm.validate(function (valid) {\n        if (valid) {\n          _this.loading = true;\n\n          // 根据分析类型获取相关参数\n          var parameters = _this.getParameters();\n\n          // 发射事件，传递参数\n          _this.$emit('start', parameters);\n\n          // 注意：loading状态会在父组件中重置\n        } else {\n          _this.$message.warning('请完善分析参数');\n          return false;\n        }\n      });\n    },\n    cancel: function cancel() {\n      this.$emit('cancel');\n    },\n    getParameters: function getParameters() {\n      // 基础参数\n      var commonParams = {\n        description: this.form.description\n      };\n\n      // 根据分析类型返回相应参数\n      switch (this.analysisType) {\n        case 'trend_prediction':\n          return _objectSpread(_objectSpread({}, commonParams), {}, {\n            timeRange: this.form.timeRange,\n            dimensions: this.form.dimensions,\n            dataSources: this.form.dataSources,\n            confidenceThreshold: this.form.confidenceThreshold\n          });\n        case 'resource_optimization':\n          return _objectSpread(_objectSpread({}, commonParams), {}, {\n            optimizationGoal: this.form.optimizationGoal,\n            factors: this.form.factors,\n            resourceTypes: this.form.resourceTypes,\n            historyTimeRange: this.form.historyTimeRange\n          });\n        case 'anomaly_detection':\n          return _objectSpread(_objectSpread({}, commonParams), {}, {\n            timeRange: this.form.timeRange,\n            sensitivity: this.form.sensitivity,\n            anomalyTypes: this.form.anomalyTypes,\n            scopes: this.form.scopes\n          });\n        default:\n          return commonParams;\n      }\n    }\n  }\n};","map":{"version":3,"names":["name","props","analysisType","type","String","required","validator","value","includes","data","loading","form","description","timeRange","dimensions","dataSources","confidenceThreshold","optimizationGoal","factors","resourceTypes","historyTimeRange","sensitivity","anomalyTypes","scopes","rules","message","trigger","methods","submitForm","_this","$refs","analysisForm","validate","valid","parameters","getParameters","$emit","$message","warning","cancel","commonParams","_objectSpread"],"sources":["/Users/yue/Desktop/vuln-Management/frontend/src/components/ai/AnalysisParameters.vue"],"sourcesContent":["<template>\n  <div class=\"analysis-parameters\">\n    <el-form :model=\"form\" label-width=\"120px\" label-position=\"top\" :rules=\"rules\" ref=\"analysisForm\">\n      <!-- 趋势预测参数 -->\n      <template v-if=\"analysisType === 'trend_prediction'\">\n        <el-form-item label=\"预测时间范围\" prop=\"timeRange\">\n          <el-select v-model=\"form.timeRange\" placeholder=\"请选择预测时间范围\" style=\"width: 100%\">\n            <el-option label=\"未来7天\" value=\"未来7天\"></el-option>\n            <el-option label=\"未来14天\" value=\"未来14天\"></el-option>\n            <el-option label=\"未来30天\" value=\"未来30天\"></el-option>\n            <el-option label=\"未来90天\" value=\"未来90天\"></el-option>\n          </el-select>\n        </el-form-item>\n        \n        <el-form-item label=\"分析维度\" prop=\"dimensions\">\n          <el-checkbox-group v-model=\"form.dimensions\">\n            <el-checkbox label=\"severity\">按严重程度</el-checkbox>\n            <el-checkbox label=\"status\">按状态</el-checkbox>\n            <el-checkbox label=\"category\">按类别</el-checkbox>\n            <el-checkbox label=\"system\">按系统</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n        \n        <el-form-item label=\"数据来源\" prop=\"dataSources\">\n          <el-checkbox-group v-model=\"form.dataSources\">\n            <el-checkbox label=\"internal\">内部漏洞数据</el-checkbox>\n            <el-checkbox label=\"external\">外部威胁情报</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n        \n        <el-form-item label=\"置信度阈值\" prop=\"confidenceThreshold\">\n          <el-slider v-model=\"form.confidenceThreshold\" :step=\"5\" :marks=\"{\n            0: '0%',\n            25: '25%',\n            50: '50%',\n            75: '75%',\n            100: '100%'\n          }\"></el-slider>\n        </el-form-item>\n      </template>\n      \n      <!-- 资源优化参数 -->\n      <template v-if=\"analysisType === 'resource_optimization'\">\n        <el-form-item label=\"优化目标\" prop=\"optimizationGoal\">\n          <el-radio-group v-model=\"form.optimizationGoal\">\n            <el-radio label=\"risk_reduction\">最大化风险降低</el-radio>\n            <el-radio label=\"efficiency\">最大化资源效率</el-radio>\n            <el-radio label=\"balanced\">平衡风险与效率</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        \n        <el-form-item label=\"考虑因素\" prop=\"factors\">\n          <el-checkbox-group v-model=\"form.factors\">\n            <el-checkbox label=\"cost\">成本因素</el-checkbox>\n            <el-checkbox label=\"time\">时间因素</el-checkbox>\n            <el-checkbox label=\"expertise\">专业知识要求</el-checkbox>\n            <el-checkbox label=\"business_impact\">业务影响</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n        \n        <el-form-item label=\"资源类型\" prop=\"resourceTypes\">\n          <el-checkbox-group v-model=\"form.resourceTypes\">\n            <el-checkbox label=\"human\">人力资源</el-checkbox>\n            <el-checkbox label=\"technical\">技术资源</el-checkbox>\n            <el-checkbox label=\"financial\">财务资源</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n        \n        <el-form-item label=\"历史数据范围\" prop=\"historyTimeRange\">\n          <el-select v-model=\"form.historyTimeRange\" placeholder=\"请选择历史数据范围\" style=\"width: 100%\">\n            <el-option label=\"过去30天\" value=\"过去30天\"></el-option>\n            <el-option label=\"过去90天\" value=\"过去90天\"></el-option>\n            <el-option label=\"过去180天\" value=\"过去180天\"></el-option>\n            <el-option label=\"过去365天\" value=\"过去365天\"></el-option>\n          </el-select>\n        </el-form-item>\n      </template>\n      \n      <!-- 异常检测参数 -->\n      <template v-if=\"analysisType === 'anomaly_detection'\">\n        <el-form-item label=\"分析时间范围\" prop=\"timeRange\">\n          <el-select v-model=\"form.timeRange\" placeholder=\"请选择分析时间范围\" style=\"width: 100%\">\n            <el-option label=\"过去3天\" value=\"过去3天\"></el-option>\n            <el-option label=\"过去7天\" value=\"过去7天\"></el-option>\n            <el-option label=\"过去14天\" value=\"过去14天\"></el-option>\n            <el-option label=\"过去30天\" value=\"过去30天\"></el-option>\n          </el-select>\n        </el-form-item>\n        \n        <el-form-item label=\"检测灵敏度\" prop=\"sensitivity\">\n          <el-slider v-model=\"form.sensitivity\" :min=\"1\" :max=\"10\" :step=\"1\" :marks=\"{\n            1: '低',\n            5: '中',\n            10: '高'\n          }\"></el-slider>\n        </el-form-item>\n        \n        <el-form-item label=\"异常类型\" prop=\"anomalyTypes\">\n          <el-checkbox-group v-model=\"form.anomalyTypes\">\n            <el-checkbox label=\"spike\">突增异常</el-checkbox>\n            <el-checkbox label=\"drop\">突降异常</el-checkbox>\n            <el-checkbox label=\"pattern\">模式异常</el-checkbox>\n            <el-checkbox label=\"seasonal\">季节性异常</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n        \n        <el-form-item label=\"分析范围\" prop=\"scopes\">\n          <el-checkbox-group v-model=\"form.scopes\">\n            <el-checkbox label=\"all\">全部漏洞</el-checkbox>\n            <el-checkbox label=\"high\">仅高危漏洞</el-checkbox>\n            <el-checkbox label=\"web\">Web应用漏洞</el-checkbox>\n            <el-checkbox label=\"network\">网络设备漏洞</el-checkbox>\n            <el-checkbox label=\"system\">系统漏洞</el-checkbox>\n          </el-checkbox-group>\n        </el-form-item>\n      </template>\n      \n      <el-form-item label=\"分析说明\" prop=\"description\">\n        <el-input \n          type=\"textarea\" \n          v-model=\"form.description\"\n          :rows=\"3\"\n          placeholder=\"请输入分析说明（可选）\">\n        </el-input>\n      </el-form-item>\n    </el-form>\n    \n    <div class=\"form-actions\">\n      <el-button @click=\"cancel\">取消</el-button>\n      <el-button type=\"primary\" @click=\"submitForm\" :loading=\"loading\">开始分析</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'AnalysisParameters',\n  props: {\n    analysisType: {\n      type: String,\n      required: true,\n      validator: value => ['trend_prediction', 'resource_optimization', 'anomaly_detection'].includes(value)\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      form: {\n        // 通用参数\n        description: '',\n        \n        // 趋势预测参数\n        timeRange: '未来30天',\n        dimensions: ['severity', 'status'],\n        dataSources: ['internal'],\n        confidenceThreshold: 70,\n        \n        // 资源优化参数\n        optimizationGoal: 'balanced',\n        factors: ['cost', 'time'],\n        resourceTypes: ['human', 'technical'],\n        historyTimeRange: '过去90天',\n        \n        // 异常检测参数\n        sensitivity: 5,\n        anomalyTypes: ['spike', 'pattern'],\n        scopes: ['all']\n      },\n      rules: {\n        // 趋势预测规则\n        timeRange: [\n          { required: true, message: '请选择预测时间范围', trigger: 'change' }\n        ],\n        dimensions: [\n          { type: 'array', required: true, message: '请至少选择一个分析维度', trigger: 'change' }\n        ],\n        \n        // 资源优化规则\n        optimizationGoal: [\n          { required: true, message: '请选择优化目标', trigger: 'change' }\n        ],\n        \n        // 异常检测规则\n        anomalyTypes: [\n          { type: 'array', required: true, message: '请至少选择一种异常类型', trigger: 'change' }\n        ]\n      }\n    }\n  },\n  methods: {\n    submitForm() {\n      this.$refs.analysisForm.validate(valid => {\n        if (valid) {\n          this.loading = true\n          \n          // 根据分析类型获取相关参数\n          const parameters = this.getParameters()\n          \n          // 发射事件，传递参数\n          this.$emit('start', parameters)\n          \n          // 注意：loading状态会在父组件中重置\n        } else {\n          this.$message.warning('请完善分析参数')\n          return false\n        }\n      })\n    },\n    cancel() {\n      this.$emit('cancel')\n    },\n    getParameters() {\n      // 基础参数\n      const commonParams = {\n        description: this.form.description\n      }\n      \n      // 根据分析类型返回相应参数\n      switch (this.analysisType) {\n        case 'trend_prediction':\n          return {\n            ...commonParams,\n            timeRange: this.form.timeRange,\n            dimensions: this.form.dimensions,\n            dataSources: this.form.dataSources,\n            confidenceThreshold: this.form.confidenceThreshold\n          }\n        \n        case 'resource_optimization':\n          return {\n            ...commonParams,\n            optimizationGoal: this.form.optimizationGoal,\n            factors: this.form.factors,\n            resourceTypes: this.form.resourceTypes,\n            historyTimeRange: this.form.historyTimeRange\n          }\n        \n        case 'anomaly_detection':\n          return {\n            ...commonParams,\n            timeRange: this.form.timeRange,\n            sensitivity: this.form.sensitivity,\n            anomalyTypes: this.form.anomalyTypes,\n            scopes: this.form.scopes\n          }\n        \n        default:\n          return commonParams\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.analysis-parameters {\n  padding: 10px;\n  \n  .form-actions {\n    display: flex;\n    justify-content: flex-end;\n    margin-top: 30px;\n    \n    .el-button {\n      margin-left: 10px;\n    }\n  }\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}