{"ast":null,"code":"import _regeneratorRuntime from \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport axios from 'axios';\nvar state = {\n  data: {},\n  loading: false,\n  error: null\n};\nvar getters = {\n  dashboardData: function dashboardData(state) {\n    return state.data;\n  },\n  isLoading: function isLoading(state) {\n    return state.loading;\n  },\n  error: function error(state) {\n    return state.error;\n  }\n};\nvar mutations = {\n  SET_DASHBOARD_DATA: function SET_DASHBOARD_DATA(state, data) {\n    state.data = data;\n  },\n  SET_LOADING: function SET_LOADING(state, loading) {\n    state.loading = loading;\n  },\n  SET_ERROR: function SET_ERROR(state, error) {\n    state.error = error;\n  }\n};\nvar actions = {\n  // 获取仪表盘数据\n  fetchDashboardData: function fetchDashboardData(_ref) {\n    return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var commit, response, _error$response, message;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            commit = _ref.commit;\n            _context.prev = 1;\n            commit('SET_LOADING', true);\n            _context.next = 5;\n            return axios.get('/dashboard');\n          case 5:\n            response = _context.sent;\n            commit('SET_DASHBOARD_DATA', response.data);\n            commit('SET_LOADING', false);\n            commit('SET_ERROR', null);\n            return _context.abrupt(\"return\", response.data);\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](1);\n            message = ((_error$response = _context.t0.response) === null || _error$response === void 0 || (_error$response = _error$response.data) === null || _error$response === void 0 ? void 0 : _error$response.error) || '获取仪表盘数据失败';\n            commit('SET_ERROR', message);\n            commit('SET_LOADING', false);\n            throw _context.t0;\n          case 18:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[1, 12]]);\n    }))();\n  },\n  // 重置仪表盘数据\n  resetDashboardData: function resetDashboardData(_ref2) {\n    var commit = _ref2.commit;\n    commit('SET_DASHBOARD_DATA', {});\n  }\n};\nexport default {\n  namespaced: true,\n  state: state,\n  getters: getters,\n  mutations: mutations,\n  actions: actions\n};","map":{"version":3,"names":["axios","state","data","loading","error","getters","dashboardData","isLoading","mutations","SET_DASHBOARD_DATA","SET_LOADING","SET_ERROR","actions","fetchDashboardData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","response","_error$response","message","wrap","_callee$","_context","prev","next","get","sent","abrupt","t0","stop","resetDashboardData","_ref2","namespaced"],"sources":["/Users/yue/Desktop/vuln-Management/frontend/src/store/modules/dashboard.js"],"sourcesContent":["import axios from 'axios'\n\nconst state = {\n  data: {},\n  loading: false,\n  error: null\n}\n\nconst getters = {\n  dashboardData: state => state.data,\n  isLoading: state => state.loading,\n  error: state => state.error\n}\n\nconst mutations = {\n  SET_DASHBOARD_DATA(state, data) {\n    state.data = data\n  },\n  \n  SET_LOADING(state, loading) {\n    state.loading = loading\n  },\n  \n  SET_ERROR(state, error) {\n    state.error = error\n  }\n}\n\nconst actions = {\n  // 获取仪表盘数据\n  async fetchDashboardData({ commit }) {\n    try {\n      commit('SET_LOADING', true)\n      \n      const response = await axios.get('/dashboard')\n      \n      commit('SET_DASHBOARD_DATA', response.data)\n      commit('SET_LOADING', false)\n      commit('SET_ERROR', null)\n      \n      return response.data\n    } catch (error) {\n      const message = error.response?.data?.error || '获取仪表盘数据失败'\n      commit('SET_ERROR', message)\n      commit('SET_LOADING', false)\n      throw error\n    }\n  },\n  \n  // 重置仪表盘数据\n  resetDashboardData({ commit }) {\n    commit('SET_DASHBOARD_DATA', {})\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n} "],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,IAAMC,KAAK,GAAG;EACZC,IAAI,EAAE,CAAC,CAAC;EACRC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;AAED,IAAMC,OAAO,GAAG;EACdC,aAAa,EAAE,SAAfA,aAAaA,CAAEL,KAAK;IAAA,OAAIA,KAAK,CAACC,IAAI;EAAA;EAClCK,SAAS,EAAE,SAAXA,SAASA,CAAEN,KAAK;IAAA,OAAIA,KAAK,CAACE,OAAO;EAAA;EACjCC,KAAK,EAAE,SAAPA,KAAKA,CAAEH,KAAK;IAAA,OAAIA,KAAK,CAACG,KAAK;EAAA;AAC7B,CAAC;AAED,IAAMI,SAAS,GAAG;EAChBC,kBAAkB,WAAlBA,kBAAkBA,CAACR,KAAK,EAAEC,IAAI,EAAE;IAC9BD,KAAK,CAACC,IAAI,GAAGA,IAAI;EACnB,CAAC;EAEDQ,WAAW,WAAXA,WAAWA,CAACT,KAAK,EAAEE,OAAO,EAAE;IAC1BF,KAAK,CAACE,OAAO,GAAGA,OAAO;EACzB,CAAC;EAEDQ,SAAS,WAATA,SAASA,CAACV,KAAK,EAAEG,KAAK,EAAE;IACtBH,KAAK,CAACG,KAAK,GAAGA,KAAK;EACrB;AACF,CAAC;AAED,IAAMQ,OAAO,GAAG;EACd;EACMC,kBAAkB,WAAlBA,kBAAkBA,CAAAC,IAAA,EAAa;IAAA,OAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;MAAA,IAAAC,MAAA,EAAAC,QAAA,EAAAC,eAAA,EAAAC,OAAA;MAAA,OAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA;QAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAVR,MAAM,GAAAL,IAAA,CAANK,MAAM;YAAAM,QAAA,CAAAC,IAAA;YAE7BP,MAAM,CAAC,aAAa,EAAE,IAAI,CAAC;YAAAM,QAAA,CAAAE,IAAA;YAAA,OAEJ3B,KAAK,CAAC4B,GAAG,CAAC,YAAY,CAAC;UAAA;YAAxCR,QAAQ,GAAAK,QAAA,CAAAI,IAAA;YAEdV,MAAM,CAAC,oBAAoB,EAAEC,QAAQ,CAAClB,IAAI,CAAC;YAC3CiB,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC;YAC5BA,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC;YAAA,OAAAM,QAAA,CAAAK,MAAA,WAElBV,QAAQ,CAAClB,IAAI;UAAA;YAAAuB,QAAA,CAAAC,IAAA;YAAAD,QAAA,CAAAM,EAAA,GAAAN,QAAA;YAEdH,OAAO,GAAG,EAAAD,eAAA,GAAAI,QAAA,CAAAM,EAAA,CAAMX,QAAQ,cAAAC,eAAA,gBAAAA,eAAA,GAAdA,eAAA,CAAgBnB,IAAI,cAAAmB,eAAA,uBAApBA,eAAA,CAAsBjB,KAAK,KAAI,WAAW;YAC1De,MAAM,CAAC,WAAW,EAAEG,OAAO,CAAC;YAC5BH,MAAM,CAAC,aAAa,EAAE,KAAK,CAAC;YAAA,MAAAM,QAAA,CAAAM,EAAA;UAAA;UAAA;YAAA,OAAAN,QAAA,CAAAO,IAAA;QAAA;MAAA,GAAAd,OAAA;IAAA;EAGhC,CAAC;EAED;EACAe,kBAAkB,WAAlBA,kBAAkBA,CAAAC,KAAA,EAAa;IAAA,IAAVf,MAAM,GAAAe,KAAA,CAANf,MAAM;IACzBA,MAAM,CAAC,oBAAoB,EAAE,CAAC,CAAC,CAAC;EAClC;AACF,CAAC;AAED,eAAe;EACbgB,UAAU,EAAE,IAAI;EAChBlC,KAAK,EAALA,KAAK;EACLI,OAAO,EAAPA,OAAO;EACPG,SAAS,EAATA,SAAS;EACTI,OAAO,EAAPA;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}