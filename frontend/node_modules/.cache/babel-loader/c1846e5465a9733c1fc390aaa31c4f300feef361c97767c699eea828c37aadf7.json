{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, withKeys as _withKeys, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"vulnerability-list\"\n};\nconst _hoisted_2 = {\n  class: \"page-header\"\n};\nconst _hoisted_3 = {\n  class: \"header-right\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  class: \"empty-state\"\n};\nconst _hoisted_5 = {\n  key: 2,\n  class: \"pagination-wrapper\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_dropdown_item = _resolveComponent(\"el-dropdown-item\");\n  const _component_el_dropdown_menu = _resolveComponent(\"el-dropdown-menu\");\n  const _component_el_dropdown = _resolveComponent(\"el-dropdown\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_empty = _resolveComponent(\"el-empty\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"header-left\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"page-title\"\n  }, \"漏洞列表\"), _createElementVNode(\"p\", {\n    class: \"page-subtitle\"\n  }, \"管理和跟踪所有安全漏洞\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n    type: \"primary\",\n    onClick: $setup.handleCreate\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"新增漏洞\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n    onClick: $setup.handleImport\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"导入漏洞\")])),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])])]), _createCommentVNode(\" 搜索和筛选 \"), _createVNode(_component_el_card, {\n    shadow: \"hover\",\n    class: \"filter-card\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      model: $setup.searchParams,\n      inline: \"\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"关键词\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.searchParams.searchTerm,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.searchParams.searchTerm = $event),\n          placeholder: \"标题/CVE/描述\",\n          clearable: \"\",\n          onKeyup: _withKeys($setup.searchVulnerabilities, [\"enter\"])\n        }, null, 8 /* PROPS */, [\"modelValue\", \"onKeyup\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"严重程度\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: $setup.searchParams.severity,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.searchParams.severity = $event),\n          placeholder: \"所有严重程度\",\n          clearable: \"\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_option, {\n            label: \"严重\",\n            value: \"critical\"\n          }), _createVNode(_component_el_option, {\n            label: \"高危\",\n            value: \"high\"\n          }), _createVNode(_component_el_option, {\n            label: \"中危\",\n            value: \"medium\"\n          }), _createVNode(_component_el_option, {\n            label: \"低危\",\n            value: \"low\"\n          }), _createVNode(_component_el_option, {\n            label: \"信息\",\n            value: \"info\"\n          })]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        label: \"状态\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: $setup.searchParams.status,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.searchParams.status = $event),\n          placeholder: \"所有状态\",\n          clearable: \"\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_option, {\n            label: \"开放\",\n            value: \"open\"\n          }), _createVNode(_component_el_option, {\n            label: \"处理中\",\n            value: \"in_progress\"\n          }), _createVNode(_component_el_option, {\n            label: \"已解决\",\n            value: \"resolved\"\n          }), _createVNode(_component_el_option, {\n            label: \"已关闭\",\n            value: \"closed\"\n          }), _createVNode(_component_el_option, {\n            label: \"误报\",\n            value: \"false_positive\"\n          })]),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $setup.searchVulnerabilities\n        }, {\n          default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"搜索\")])),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_el_button, {\n          onClick: $setup.resetSearch\n        }, {\n          default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"重置\")])),\n          _: 1 /* STABLE */\n        }, 8 /* PROPS */, [\"onClick\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\"])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 漏洞表格 \"), _createVNode(_component_el_card, {\n    shadow: \"hover\",\n    class: \"vuln-table-card\"\n  }, {\n    default: _withCtx(() => [_withDirectives((_openBlock(), _createElementBlock(\"div\", null, [$setup.vulnerabilities.length > 0 ? (_openBlock(), _createBlock(_component_el_table, {\n      key: 0,\n      data: $setup.vulnerabilities,\n      style: {\n        \"width\": \"100%\"\n      },\n      border: \"\",\n      stripe: \"\",\n      \"header-cell-style\": {\n        background: '#f5f7fa'\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        label: \"标题\",\n        prop: \"title\",\n        \"min-width\": \"200\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_router_link, {\n          to: `/vulnerabilities/${scope.row.id}`,\n          class: \"vuln-title-link\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.title), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"CVE\",\n        prop: \"cve\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        label: \"严重程度\",\n        prop: \"severity\",\n        width: \"100\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, {\n          type: _ctx.$filters.severityClass(scope.row.severity),\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$filters.severityText(scope.row.severity)), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"状态\",\n        prop: \"status\",\n        width: \"100\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, {\n          type: _ctx.$filters.statusClass(scope.row.status),\n          size: \"small\"\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(_ctx.$filters.statusText(scope.row.status)), 1 /* TEXT */)]),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"type\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"报告时间\",\n        prop: \"reportedAt\",\n        width: \"150\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString(_ctx.$filters.formatDate(scope.row.reportedAt)), 1 /* TEXT */)]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"150\",\n        fixed: \"right\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          size: \"small\",\n          onClick: $event => $setup.viewDetails(scope.row.id)\n        }, {\n          default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"查看\")])),\n          _: 2 /* DYNAMIC */\n        }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_dropdown, null, {\n          dropdown: _withCtx(() => [_createVNode(_component_el_dropdown_menu, null, {\n            default: _withCtx(() => [_createVNode(_component_el_dropdown_item, {\n              onClick: $event => $setup.editVulnerability(scope.row.id)\n            }, {\n              default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"编辑\")])),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_dropdown_item, {\n              onClick: $event => $setup.markStatus(scope.row.id, 'in_progress')\n            }, {\n              default: _withCtx(() => _cache[11] || (_cache[11] = [_createTextVNode(\"标记为处理中\")])),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_dropdown_item, {\n              onClick: $event => $setup.markStatus(scope.row.id, 'resolved')\n            }, {\n              default: _withCtx(() => _cache[12] || (_cache[12] = [_createTextVNode(\"标记为已解决\")])),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_dropdown_item, {\n              onClick: $event => $setup.markStatus(scope.row.id, 'closed')\n            }, {\n              default: _withCtx(() => _cache[13] || (_cache[13] = [_createTextVNode(\"标记为已关闭\")])),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"]), _createVNode(_component_el_dropdown_item, {\n              divided: \"\",\n              onClick: $event => $setup.deleteVulnerability(scope.row.id)\n            }, {\n              default: _withCtx(() => _cache[14] || (_cache[14] = [_createElementVNode(\"span\", {\n                style: {\n                  \"color\": \"#F56C6C\"\n                }\n              }, \"删除\", -1 /* HOISTED */)])),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])]),\n            _: 2 /* DYNAMIC */\n          }, 1024 /* DYNAMIC_SLOTS */)]),\n          default: _withCtx(() => [_createVNode(_component_el_button, {\n            size: \"small\",\n            type: \"primary\",\n            icon: \"el-icon-more\"\n          }, {\n            default: _withCtx(() => _cache[9] || (_cache[9] = [_createElementVNode(\"i\", {\n              class: \"el-icon-arrow-down el-icon--right\"\n            }, null, -1 /* HOISTED */)])),\n            _: 1 /* STABLE */\n          })]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])) : !$setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createVNode(_component_el_empty, {\n      description: \"暂无漏洞数据\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_button, {\n        type: \"primary\",\n        onClick: $setup.handleCreate\n      }, {\n        default: _withCtx(() => _cache[15] || (_cache[15] = [_createTextVNode(\"新增漏洞\")])),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"onClick\"])]),\n      _: 1 /* STABLE */\n    })])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" 分页 \"), $setup.pagination.total > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createVNode(_component_el_pagination, {\n      background: \"\",\n      layout: \"total, sizes, prev, pager, next, jumper\",\n      \"current-page\": $setup.searchParams.page,\n      \"page-size\": $setup.searchParams.perPage,\n      \"page-sizes\": [10, 20, 50, 100],\n      total: $setup.pagination.total,\n      onSizeChange: $setup.handleSizeChange,\n      onCurrentChange: $setup.handleCurrentChange\n    }, null, 8 /* PROPS */, [\"current-page\", \"page-size\", \"total\", \"onSizeChange\", \"onCurrentChange\"])])) : _createCommentVNode(\"v-if\", true)])), [[_directive_loading, $setup.loading]])]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_el_button","type","onClick","$setup","handleCreate","default","_withCtx","_cache","_createTextVNode","_","handleImport","_createCommentVNode","_component_el_card","shadow","_component_el_form","model","searchParams","inline","_component_el_form_item","label","_component_el_input","modelValue","searchTerm","$event","placeholder","clearable","onKeyup","_withKeys","searchVulnerabilities","_component_el_select","severity","_component_el_option","value","status","resetSearch","vulnerabilities","length","_createBlock","_component_el_table","data","style","border","stripe","background","_component_el_table_column","prop","scope","_component_router_link","to","row","id","_toDisplayString","title","width","_component_el_tag","_ctx","$filters","severityClass","size","severityText","statusClass","statusText","formatDate","reportedAt","fixed","viewDetails","_component_el_dropdown","dropdown","_component_el_dropdown_menu","_component_el_dropdown_item","editVulnerability","markStatus","divided","deleteVulnerability","icon","loading","_hoisted_4","_component_el_empty","description","pagination","total","_hoisted_5","_component_el_pagination","layout","page","perPage","onSizeChange","handleSizeChange","onCurrentChange","handleCurrentChange"],"sources":["/Users/yue/Desktop/vuln-Management/frontend/src/views/vulnerabilities/VulnerabilityList.vue"],"sourcesContent":["<template>\n  <div class=\"vulnerability-list\">\n    <div class=\"page-header\">\n      <div class=\"header-left\">\n        <h1 class=\"page-title\">漏洞列表</h1>\n        <p class=\"page-subtitle\">管理和跟踪所有安全漏洞</p>\n      </div>\n      <div class=\"header-right\">\n        <el-button type=\"primary\" @click=\"handleCreate\">新增漏洞</el-button>\n        <el-button @click=\"handleImport\">导入漏洞</el-button>\n      </div>\n    </div>\n\n    <!-- 搜索和筛选 -->\n    <el-card shadow=\"hover\" class=\"filter-card\">\n      <el-form :model=\"searchParams\" inline>\n        <el-form-item label=\"关键词\">\n          <el-input\n            v-model=\"searchParams.searchTerm\"\n            placeholder=\"标题/CVE/描述\"\n            clearable\n            @keyup.enter=\"searchVulnerabilities\"\n          />\n        </el-form-item>\n        \n        <el-form-item label=\"严重程度\">\n          <el-select v-model=\"searchParams.severity\" placeholder=\"所有严重程度\" clearable>\n            <el-option label=\"严重\" value=\"critical\" />\n            <el-option label=\"高危\" value=\"high\" />\n            <el-option label=\"中危\" value=\"medium\" />\n            <el-option label=\"低危\" value=\"low\" />\n            <el-option label=\"信息\" value=\"info\" />\n          </el-select>\n        </el-form-item>\n        \n        <el-form-item label=\"状态\">\n          <el-select v-model=\"searchParams.status\" placeholder=\"所有状态\" clearable>\n            <el-option label=\"开放\" value=\"open\" />\n            <el-option label=\"处理中\" value=\"in_progress\" />\n            <el-option label=\"已解决\" value=\"resolved\" />\n            <el-option label=\"已关闭\" value=\"closed\" />\n            <el-option label=\"误报\" value=\"false_positive\" />\n          </el-select>\n        </el-form-item>\n        \n        <el-form-item>\n          <el-button type=\"primary\" @click=\"searchVulnerabilities\">搜索</el-button>\n          <el-button @click=\"resetSearch\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n\n    <!-- 漏洞表格 -->\n    <el-card shadow=\"hover\" class=\"vuln-table-card\">\n      <div v-loading=\"loading\">\n        <el-table\n          v-if=\"vulnerabilities.length > 0\"\n          :data=\"vulnerabilities\"\n          style=\"width: 100%\"\n          border\n          stripe\n          :header-cell-style=\"{background:'#f5f7fa'}\"\n        >\n          <el-table-column label=\"标题\" prop=\"title\" min-width=\"200\">\n            <template #default=\"scope\">\n              <router-link :to=\"`/vulnerabilities/${scope.row.id}`\" class=\"vuln-title-link\">\n                {{ scope.row.title }}\n              </router-link>\n            </template>\n          </el-table-column>\n          \n          <el-table-column label=\"CVE\" prop=\"cve\" width=\"120\" />\n          \n          <el-table-column label=\"严重程度\" prop=\"severity\" width=\"100\">\n            <template #default=\"scope\">\n              <el-tag :type=\"$filters.severityClass(scope.row.severity)\" size=\"small\">\n                {{ $filters.severityText(scope.row.severity) }}\n              </el-tag>\n            </template>\n          </el-table-column>\n          \n          <el-table-column label=\"状态\" prop=\"status\" width=\"100\">\n            <template #default=\"scope\">\n              <el-tag :type=\"$filters.statusClass(scope.row.status)\" size=\"small\">\n                {{ $filters.statusText(scope.row.status) }}\n              </el-tag>\n            </template>\n          </el-table-column>\n          \n          <el-table-column label=\"报告时间\" prop=\"reportedAt\" width=\"150\">\n            <template #default=\"scope\">\n              {{ $filters.formatDate(scope.row.reportedAt) }}\n            </template>\n          </el-table-column>\n          \n          <el-table-column label=\"操作\" width=\"150\" fixed=\"right\">\n            <template #default=\"scope\">\n              <el-button size=\"small\" @click=\"viewDetails(scope.row.id)\">查看</el-button>\n              <el-dropdown>\n                <el-button size=\"small\" type=\"primary\" icon=\"el-icon-more\">\n                  <i class=\"el-icon-arrow-down el-icon--right\"></i>\n                </el-button>\n                <template #dropdown>\n                  <el-dropdown-menu>\n                    <el-dropdown-item @click=\"editVulnerability(scope.row.id)\">编辑</el-dropdown-item>\n                    <el-dropdown-item @click=\"markStatus(scope.row.id, 'in_progress')\">标记为处理中</el-dropdown-item>\n                    <el-dropdown-item @click=\"markStatus(scope.row.id, 'resolved')\">标记为已解决</el-dropdown-item>\n                    <el-dropdown-item @click=\"markStatus(scope.row.id, 'closed')\">标记为已关闭</el-dropdown-item>\n                    <el-dropdown-item divided @click=\"deleteVulnerability(scope.row.id)\">\n                      <span style=\"color: #F56C6C;\">删除</span>\n                    </el-dropdown-item>\n                  </el-dropdown-menu>\n                </template>\n              </el-dropdown>\n            </template>\n          </el-table-column>\n        </el-table>\n        \n        <div v-else-if=\"!loading\" class=\"empty-state\">\n          <el-empty description=\"暂无漏洞数据\">\n            <el-button type=\"primary\" @click=\"handleCreate\">新增漏洞</el-button>\n          </el-empty>\n        </div>\n        \n        <!-- 分页 -->\n        <div class=\"pagination-wrapper\" v-if=\"pagination.total > 0\">\n          <el-pagination\n            background\n            layout=\"total, sizes, prev, pager, next, jumper\"\n            :current-page=\"searchParams.page\"\n            :page-size=\"searchParams.perPage\"\n            :page-sizes=\"[10, 20, 50, 100]\"\n            :total=\"pagination.total\"\n            @size-change=\"handleSizeChange\"\n            @current-change=\"handleCurrentChange\"\n          />\n        </div>\n      </div>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { ref, reactive, computed, onMounted } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { ElMessageBox, ElMessage } from 'element-plus'\n\nexport default {\n  name: 'VulnerabilityList',\n  \n  setup() {\n    const store = useStore()\n    const router = useRouter()\n    \n    // 数据和状态\n    const loading = computed(() => store.getters['vulnerability/isLoading'])\n    const vulnerabilities = computed(() => store.getters['vulnerability/allVulnerabilities'])\n    const pagination = computed(() => store.getters['vulnerability/pagination'])\n    \n    // 搜索参数\n    const searchParams = reactive({\n      severity: '',\n      status: '',\n      assignedTo: '',\n      searchTerm: '',\n      sortBy: 'createdAt',\n      sortOrder: 'desc',\n      page: 1,\n      perPage: 10\n    })\n    \n    // 获取漏洞列表\n    const fetchVulnerabilities = async () => {\n      try {\n        await store.dispatch('vulnerability/fetchVulnerabilities')\n      } catch (error) {\n        ElMessage.error('获取漏洞列表失败：' + (error.message || '未知错误'))\n      }\n    }\n    \n    // 搜索漏洞\n    const searchVulnerabilities = () => {\n      store.dispatch('vulnerability/updateSearchParams', searchParams)\n    }\n    \n    // 重置搜索\n    const resetSearch = () => {\n      Object.assign(searchParams, {\n        severity: '',\n        status: '',\n        assignedTo: '',\n        searchTerm: '',\n        sortBy: 'createdAt',\n        sortOrder: 'desc',\n        page: 1\n      })\n      searchVulnerabilities()\n    }\n    \n    // 分页处理\n    const handleSizeChange = (size) => {\n      searchParams.perPage = size\n      searchVulnerabilities()\n    }\n    \n    const handleCurrentChange = (page) => {\n      searchParams.page = page\n      searchVulnerabilities()\n    }\n    \n    // 漏洞操作\n    const viewDetails = (id) => {\n      router.push(`/vulnerabilities/${id}`)\n    }\n    \n    const editVulnerability = (id) => {\n      router.push(`/vulnerabilities/${id}?edit=true`)\n    }\n    \n    const deleteVulnerability = (id) => {\n      ElMessageBox.confirm(\n        '确定要删除这个漏洞吗？此操作不可恢复。',\n        '删除确认',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }\n      ).then(async () => {\n        try {\n          await store.dispatch('vulnerability/deleteVulnerability', id)\n          ElMessage.success('漏洞已成功删除')\n        } catch (error) {\n          ElMessage.error('删除漏洞失败：' + (error.message || '未知错误'))\n        }\n      }).catch(() => {\n        // 用户取消删除\n      })\n    }\n    \n    const markStatus = async (id, status) => {\n      try {\n        await store.dispatch('vulnerability/updateVulnerability', {\n          id,\n          data: { status }\n        })\n        ElMessage.success('漏洞状态已更新')\n      } catch (error) {\n        ElMessage.error('更新漏洞状态失败：' + (error.message || '未知错误'))\n      }\n    }\n    \n    // 新增和导入漏洞\n    const handleCreate = () => {\n      router.push('/vulnerabilities/create')\n    }\n    \n    const handleImport = () => {\n      router.push('/vulnerabilities/import')\n    }\n    \n    // 页面加载时获取数据\n    onMounted(() => {\n      fetchVulnerabilities()\n    })\n    \n    return {\n      loading,\n      vulnerabilities,\n      pagination,\n      searchParams,\n      searchVulnerabilities,\n      resetSearch,\n      handleSizeChange,\n      handleCurrentChange,\n      viewDetails,\n      editVulnerability,\n      deleteVulnerability,\n      markStatus,\n      handleCreate,\n      handleImport\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.vulnerability-list {\n  max-width: 1400px;\n  margin: 0 auto;\n}\n\n.page-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.page-title {\n  font-size: 24px;\n  font-weight: 600;\n  margin: 0;\n  color: #303133;\n}\n\n.page-subtitle {\n  color: #909399;\n  margin: 4px 0 0;\n}\n\n.filter-card {\n  margin-bottom: 20px;\n}\n\n.vuln-table-card {\n  margin-bottom: 20px;\n}\n\n.vuln-title-link {\n  color: #409EFF;\n  text-decoration: none;\n  font-weight: 500;\n  \n  &:hover {\n    text-decoration: underline;\n  }\n}\n\n.pagination-wrapper {\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.empty-state {\n  padding: 40px 0;\n  display: flex;\n  justify-content: center;\n}\n</style> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}