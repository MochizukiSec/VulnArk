{"ast":null,"code":"import \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/core-js/modules/es.array.iterator.js\";\nimport \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/core-js/modules/es.promise.js\";\nimport \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/core-js/modules/es.object.assign.js\";\nimport \"/Users/yue/Desktop/vuln-Management/frontend/node_modules/core-js/modules/es.promise.finally.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport ElementPlus from 'element-plus';\nimport 'element-plus/dist/index.css';\nimport axios from 'axios';\nimport moment from 'moment';\n\n// 配置axios默认值\naxios.defaults.baseURL = process.env.VUE_APP_API_URL || 'http://localhost:8000/api';\naxios.interceptors.request.use(function (config) {\n  var token = store.state.auth.token;\n  if (token) {\n    config.headers.Authorization = \"Bearer \".concat(token);\n  }\n  return config;\n});\n\n// 添加响应拦截器处理401未授权错误\naxios.interceptors.response.use(function (response) {\n  return response;\n}, function (error) {\n  // 只有当收到真实的401响应，且不是访问首页时才执行重定向\n  if (error.response && error.response.status === 401 && window.location.pathname !== '/' && router.currentRoute.value.name !== 'Home') {\n    console.log('收到401响应，执行登出操作');\n    store.dispatch('auth/logout');\n    router.push('/login');\n  }\n  return Promise.reject(error);\n});\n\n// 创建应用实例\nvar app = createApp(App);\n\n// 注册全局实用工具\napp.config.globalProperties.$moment = moment;\napp.config.globalProperties.$axios = axios;\n\n// 注册全局过滤器\napp.config.globalProperties.$filters = {\n  formatDate: function formatDate(value) {\n    if (!value) return '';\n    return moment(value).format('YYYY-MM-DD HH:mm');\n  },\n  formatDateOnly: function formatDateOnly(value) {\n    if (!value) return '';\n    return moment(value).format('YYYY-MM-DD');\n  },\n  capitalize: function capitalize(value) {\n    if (!value) return '';\n    value = value.toString();\n    return value.charAt(0).toUpperCase() + value.slice(1);\n  },\n  severityClass: function severityClass(severity) {\n    switch (severity) {\n      case 'critical':\n        return 'danger';\n      case 'high':\n        return 'danger';\n      case 'medium':\n        return 'warning';\n      case 'low':\n        return 'primary';\n      case 'info':\n        return 'info';\n      default:\n        return 'info';\n    }\n  },\n  statusClass: function statusClass(status) {\n    switch (status) {\n      case 'open':\n        return 'danger';\n      case 'in_progress':\n        return 'warning';\n      case 'resolved':\n        return 'success';\n      case 'closed':\n        return 'info';\n      case 'false_positive':\n        return 'info';\n      default:\n        return 'info';\n    }\n  },\n  statusText: function statusText(status) {\n    switch (status) {\n      case 'open':\n        return '开放';\n      case 'in_progress':\n        return '处理中';\n      case 'resolved':\n        return '已解决';\n      case 'closed':\n        return '已关闭';\n      case 'false_positive':\n        return '误报';\n      default:\n        return status;\n    }\n  },\n  severityText: function severityText(severity) {\n    switch (severity) {\n      case 'critical':\n        return '严重';\n      case 'high':\n        return '高危';\n      case 'medium':\n        return '中危';\n      case 'low':\n        return '低危';\n      case 'info':\n        return '信息';\n      default:\n        return severity;\n    }\n  }\n};\n\n// 使用插件\napp.use(store);\napp.use(router);\napp.use(ElementPlus);\n\n// 挂载应用\napp.mount('#app');","map":{"version":3,"names":["createApp","App","router","store","ElementPlus","axios","moment","defaults","baseURL","process","env","VUE_APP_API_URL","interceptors","request","use","config","token","state","auth","headers","Authorization","concat","response","error","status","window","location","pathname","currentRoute","value","name","console","log","dispatch","push","Promise","reject","app","globalProperties","$moment","$axios","$filters","formatDate","format","formatDateOnly","capitalize","toString","charAt","toUpperCase","slice","severityClass","severity","statusClass","statusText","severityText","mount"],"sources":["/Users/yue/Desktop/vuln-Management/frontend/src/main.js"],"sourcesContent":["import { createApp } from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport ElementPlus from 'element-plus'\nimport 'element-plus/dist/index.css'\nimport axios from 'axios'\nimport moment from 'moment'\n\n// 配置axios默认值\naxios.defaults.baseURL = process.env.VUE_APP_API_URL || 'http://localhost:8000/api'\naxios.interceptors.request.use(config => {\n  const token = store.state.auth.token\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`\n  }\n  return config\n})\n\n// 添加响应拦截器处理401未授权错误\naxios.interceptors.response.use(\n  response => response,\n  error => {\n    // 只有当收到真实的401响应，且不是访问首页时才执行重定向\n    if (error.response && \n        error.response.status === 401 && \n        window.location.pathname !== '/' && \n        router.currentRoute.value.name !== 'Home') {\n      console.log('收到401响应，执行登出操作')\n      store.dispatch('auth/logout')\n      router.push('/login')\n    }\n    return Promise.reject(error)\n  }\n)\n\n// 创建应用实例\nconst app = createApp(App)\n\n// 注册全局实用工具\napp.config.globalProperties.$moment = moment\napp.config.globalProperties.$axios = axios\n\n// 注册全局过滤器\napp.config.globalProperties.$filters = {\n  formatDate(value) {\n    if (!value) return ''\n    return moment(value).format('YYYY-MM-DD HH:mm')\n  },\n  formatDateOnly(value) {\n    if (!value) return ''\n    return moment(value).format('YYYY-MM-DD')\n  },\n  capitalize(value) {\n    if (!value) return ''\n    value = value.toString()\n    return value.charAt(0).toUpperCase() + value.slice(1)\n  },\n  severityClass(severity) {\n    switch (severity) {\n      case 'critical': return 'danger'\n      case 'high': return 'danger'\n      case 'medium': return 'warning'\n      case 'low': return 'primary'\n      case 'info': return 'info'\n      default: return 'info'\n    }\n  },\n  statusClass(status) {\n    switch (status) {\n      case 'open': return 'danger'\n      case 'in_progress': return 'warning'\n      case 'resolved': return 'success'\n      case 'closed': return 'info'\n      case 'false_positive': return 'info'\n      default: return 'info'\n    }\n  },\n  statusText(status) {\n    switch (status) {\n      case 'open': return '开放'\n      case 'in_progress': return '处理中'\n      case 'resolved': return '已解决'\n      case 'closed': return '已关闭'\n      case 'false_positive': return '误报'\n      default: return status\n    }\n  },\n  severityText(severity) {\n    switch (severity) {\n      case 'critical': return '严重'\n      case 'high': return '高危'\n      case 'medium': return '中危'\n      case 'low': return '低危'\n      case 'info': return '信息'\n      default: return severity\n    }\n  }\n}\n\n// 使用插件\napp.use(store)\napp.use(router)\napp.use(ElementPlus)\n\n// 挂载应用\napp.mount('#app') "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}