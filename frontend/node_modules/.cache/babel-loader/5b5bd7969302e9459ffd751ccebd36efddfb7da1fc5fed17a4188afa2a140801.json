{"ast":null,"code":"import { onMounted, watch, ref } from 'vue';\nimport { Chart, DoughnutController, ArcElement, Tooltip, Legend } from 'chart.js';\n\n// 注册Chart.js组件\nChart.register(DoughnutController, ArcElement, Tooltip, Legend);\nexport default {\n  name: 'DoughnutChart',\n  props: {\n    chartData: {\n      type: Object,\n      required: true\n    },\n    options: {\n      type: Object,\n      \"default\": function _default() {\n        return {};\n      }\n    }\n  },\n  setup: function setup(props) {\n    var doughnutChart = ref(null);\n    var chartInstance = null;\n    var renderChart = function renderChart() {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n      var ctx = doughnutChart.value.getContext('2d');\n      chartInstance = new Chart(ctx, {\n        type: 'doughnut',\n        data: props.chartData,\n        options: props.options\n      });\n    };\n    onMounted(function () {\n      renderChart();\n    });\n    watch(function () {\n      return props.chartData;\n    }, function () {\n      renderChart();\n    }, {\n      deep: true\n    });\n    return {\n      doughnutChart: doughnutChart\n    };\n  }\n};","map":{"version":3,"names":["onMounted","watch","ref","Chart","DoughnutController","ArcElement","Tooltip","Legend","register","name","props","chartData","type","Object","required","options","default","setup","doughnutChart","chartInstance","renderChart","destroy","ctx","value","getContext","data","deep"],"sources":["/Users/yue/Desktop/vuln-Management/frontend/src/components/charts/DoughnutChart.vue"],"sourcesContent":["<template>\n  <div class=\"chart-wrapper\">\n    <canvas ref=\"doughnutChart\"></canvas>\n  </div>\n</template>\n\n<script>\nimport { onMounted, watch, ref } from 'vue';\nimport { Chart, DoughnutController, ArcElement, Tooltip, Legend } from 'chart.js';\n\n// 注册Chart.js组件\nChart.register(DoughnutController, ArcElement, Tooltip, Legend);\n\nexport default {\n  name: 'DoughnutChart',\n  props: {\n    chartData: {\n      type: Object,\n      required: true\n    },\n    options: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const doughnutChart = ref(null);\n    let chartInstance = null;\n\n    const renderChart = () => {\n      if (chartInstance) {\n        chartInstance.destroy();\n      }\n\n      const ctx = doughnutChart.value.getContext('2d');\n      chartInstance = new Chart(ctx, {\n        type: 'doughnut',\n        data: props.chartData,\n        options: props.options\n      });\n    };\n\n    onMounted(() => {\n      renderChart();\n    });\n\n    watch(() => props.chartData, () => {\n      renderChart();\n    }, { deep: true });\n\n    return {\n      doughnutChart\n    };\n  }\n};\n</script>\n\n<style scoped>\n.chart-wrapper {\n  width: 100%;\n  height: 100%;\n}\n</style>\n"],"mappings":"AAOA,SAASA,SAAS,EAAEC,KAAK,EAAEC,GAAE,QAAS,KAAK;AAC3C,SAASC,KAAK,EAAEC,kBAAkB,EAAEC,UAAU,EAAEC,OAAO,EAAEC,MAAK,QAAS,UAAU;;AAEjF;AACAJ,KAAK,CAACK,QAAQ,CAACJ,kBAAkB,EAAEC,UAAU,EAAEC,OAAO,EAAEC,MAAM,CAAC;AAE/D,eAAe;EACbE,IAAI,EAAE,eAAe;EACrBC,KAAK,EAAE;IACLC,SAAS,EAAE;MACTC,IAAI,EAAEC,MAAM;MACZC,QAAQ,EAAE;IACZ,CAAC;IACDC,OAAO,EAAE;MACPH,IAAI,EAAEC,MAAM;MACZ,WAAS,SAATG,QAAOA,CAAA;QAAA,OAAS,CAAC,CAAC;MAAA;IACpB;EACF,CAAC;EACDC,KAAK,WAALA,KAAKA,CAACP,KAAK,EAAE;IACX,IAAMQ,aAAY,GAAIhB,GAAG,CAAC,IAAI,CAAC;IAC/B,IAAIiB,aAAY,GAAI,IAAI;IAExB,IAAMC,WAAU,GAAI,SAAdA,WAAUA,CAAA,EAAU;MACxB,IAAID,aAAa,EAAE;QACjBA,aAAa,CAACE,OAAO,CAAC,CAAC;MACzB;MAEA,IAAMC,GAAE,GAAIJ,aAAa,CAACK,KAAK,CAACC,UAAU,CAAC,IAAI,CAAC;MAChDL,aAAY,GAAI,IAAIhB,KAAK,CAACmB,GAAG,EAAE;QAC7BV,IAAI,EAAE,UAAU;QAChBa,IAAI,EAAEf,KAAK,CAACC,SAAS;QACrBI,OAAO,EAAEL,KAAK,CAACK;MACjB,CAAC,CAAC;IACJ,CAAC;IAEDf,SAAS,CAAC,YAAM;MACdoB,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IAEFnB,KAAK,CAAC;MAAA,OAAMS,KAAK,CAACC,SAAS;IAAA,GAAE,YAAM;MACjCS,WAAW,CAAC,CAAC;IACf,CAAC,EAAE;MAAEM,IAAI,EAAE;IAAK,CAAC,CAAC;IAElB,OAAO;MACLR,aAAY,EAAZA;IACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}